var STROAGE=function(){"use strict";function f(l,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,(n=a.key,e=void 0,typeof(e=function(r,t){if(typeof r!="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var u=i.call(r,t||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}(n,"string"))=="symbol"?e:String(e)),a)}var n,e}var g=function(){function l(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:localStorage,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")})(this,l),this.prefix=e,this.stroage=n}var o,s,a;return o=l,(s=[{key:"set",value:function(n,e){var r=n.split(".");if(!Array.isArray(r)||e===void 0)return!1;var t=this.get(r[0]);if(t===!1)return!1;for(var i=0;i<r.length;i++)i===0&&i===r.length-1?t=e:i===0?t===null&&(t={}):i===r.length-1?t[r[i]]=e:t&&t.hasOwnProperty(r[i])?t=t[r[i]]:t[r[i]]={};return this.stroage.setItem(this.prefix+r[0],JSON.stringify(t)),!0}},{key:"get",value:function(n){var e=n.split(".");if(!Array.isArray(e))return!1;var r=this.stroage.getItem(this.prefix+e[0]);if((r=JSON.parse(r))===null)return null;for(var t=r,i=0;i<e.length;i++)i!==0&&(r&&r.hasOwnProperty(e[i])?i===e.length-1?t=r[e[i]]:r=r[e[i]]:t=null);return t}},{key:"remove",value:function(n){var e=n.split(".");if(!Array.isArray(e))return!1;var r=this.get(e[0]);if(r)if(e.length<2)this.stroage.removeItem(this.prefix+e[0]);else{var t=r;e.slice(1).forEach(function(i,u,v){u===v.length-1?Array.isArray(t)&&t.splice(i,1)||delete t[i]:t=t[i]||{}}),this.stroage.setItem(this.prefix+e[0],JSON.stringify(r))}return!0}},{key:"clear",value:function(){this.stroage.clear()}}])&&f(o.prototype,s),a&&f(o,a),Object.defineProperty(o,"prototype",{writable:!1}),l}();return g}();
